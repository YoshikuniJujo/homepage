2種類の整数型

<h2>はじめに</h2>

<p>
整数としてIntegerのみを見てきた。
Integer型の値ではメモリの使用量以外に値の範囲を考えなくて良い。
しかし、実効効率などの関係でもうひとつの整数型を使う標準的な関数がいくつかある。
</p>

<h2>多倍長整数</h2>

<p>Integer型の値は理論的には-∞から∞の範囲を表現できる。</p>

<p><code>% ghci<br/>
Prelude&gt; 3<br/>
3<br/>
Prelude&gt; :t it<br/>
it :: Integer<br/>
Prelude&gt; 12345678901234567890123467890<br/>
123456789012345678901234567890</code></p>

<h2>固定長整数</h2>

<p>
リストの長さを計算する関数lengthなどの
いくつかの標準的な関数はInteger型の値ではなく固定長整数であるInt型の値を使う。
</p>

<p><code>Prelude&gt; length "Hello"<br/>
5<br/>
Prelude&gt; :t it<br/>
it :: Int<br/>
Prelude&gt; length
["Clean", "FP", "Gofer", "Hope", "Hope+", "Id", "ISWIM", "KRC", "Lisp", "Miranda",
"ML", "Standard ML", "Orwell", "SASL", "SISAL", "Scheme"]<br/>
16<br/>
Prelude&gt; :t it <br/>
it :: Int</code></p>

<h3>範囲</h3>

<p>Haskell 2010ではInt型の値はすくなくとも-2^29から2^29-1を含む範囲の整数型だ。</p>

<p><a href="https://www.haskell.org/onlinereport/haskell2010/haskellch18.html#x26-22400018.1"
	>Haskell 2010 language report: 18.1 Signed integer types</a></p>

<p>
GHCではInt型の値の範囲を処理系以存としている。
値の範囲は32ビットマシンでは-2^31から2^31-1までで、
64ビットマシンでは-2^63から2^63-1までだ。
</p>

<p><a href="https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/bugs-and-infelicities.html#haskell-98-2010-undefined"
	>The Glorious Glasgow Haskell Compilation System User's Guide: GHC's interpretation of undefined behaviour in Haskell 98 and Haskell 2010</a>

<p>minBound, maxBoundという値で確認できる。</p>

<p><code>Prelude&gt; minBound :: Int<br/>
-2147483648<br/>
Prelude&gt; maxBound :: Int<br/>
2147483647</code></p>

<h2>嫌なバグ</h2>

<p>Int型を使っているとときどき嫌なバグに遭遇する。</p>

<p><code>Prelude&gt; let n = maxBound :: Int<br/>
Prelude&gt; n<br/>
2147483647<br/>
Prelude&gt; n + 1<br/>
-2147483648</code></p>

<p>
<a href="/computer/haskell/web_lecture/for_programmer/about_montecarlo.html"
	>「モンテカルロ法の説明」へもどる</a>
<a href="/computer/haskell/web_lecture/for_programmer/randoms.html"
	>「疑似乱数列の生成」へ</a>
</p>
