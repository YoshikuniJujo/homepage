そのままにする関数

<h2>関数id</h2>

<h3>動作</h3>

<pre><code>% ghci
Prelude&gt; id 8
8
Prelude&gt; id "hello"
"hello"
Prelude&gt; id 'c'
'c'</code></pre>

<img
height="130"
alt="[関数idの図]"
src="/computer/haskell/web_lecture/for_programmer/images/function_id.svg"
/>

<p>関数idは引数と同じ値を返す。すべての型の値で「同じ値を返す」ことはできる。</p>

<h3>定義</h3>

<code>id x = x</code>

<h3>使い道</h3>

<p>
ひとつの使い道を示す。第1引数で第2引数を除算した値を返す関数を考える。
第1引数が0のときは第2引数をそのまま返す。
</p>

<p><code>devide :: Double -&gt; Double -&gt; Double<br/>
devide 0 b = b<br/>
devide a b = b / a</code></p>

<p>
2行目は演算子の部分適用で<code>devide a = (/ a)</code>となる。
「devide aは引数をaで割る関数」だ。
1行目の仮引数bは消せるだろうか。
関数idが使える。<code>devide 0 = id</code>とする。
「devide 0は引数をそのまま返す関数」だ。
</p>

<p><a
href="/computer/haskell/web_lecture/for_programmer/05_polymorphic/id.hs"
	>id.hs</a></p>

<p><code>devide :: Double -&gt; Double -&gt; Double<br/>
devide 0 = id<br/>
devide a = (/ a)</code></p>

<p>仮引数を減らすことでより直接的に表現できる。</p>

<p><code>% ghci id.hs<br/>
*Main&gt; devide 6 9<br/>
1.5<br/>
*Main&gt; devide 0 8<br/>
8.0</code></p>

<h3>型</h3>

<p>関数idをInteger型の値8に適用した(id 8)ときの型を示す。</p>

<p><code>id :: Integer -&gt; Integer</code></p>

<p>文字列"hello"に適用した(id "hello")ときは以下のようになる。</p>

<p><code>id :: String -&gt; String</code></p>

<p>
[型X] -&gt; [型X]の形だ。引数と返り値の型が同じであれば良い。
型変数で表現する。型変数は小文字で始まる識別子で多くは小文字1文字だ。
</p>

<p><code>id :: a -&gt; a</code></p>

<p>型aの値を取って同じ型aの値を返す。</p>

<p><code>% ghci<br/>
Prelude&gt; :t id<br/>
id :: a -&gt; a</code></p>

<h2>まとめ</h2>

<p>
関数idはもっとも単純な多相関数だ。引数をそのまま返す。
使い道がなさそうだがけっこう使える。
</p>

<h2>課題</h2>

<ol><li>関数fromMaybeを関数maybeと関数idで定義せよ</li></ol>

<p>
<a href="/computer/haskell/web_lecture/for_programmer/fromMaybe.html"
	>「Maybe値からの値の取り出し」へもどる</a>
<a href="/computer/haskell/web_lecture/for_programmer/const.html"
	>「値を無視する関数」へ</a>
</p>
