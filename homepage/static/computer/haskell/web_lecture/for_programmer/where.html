構文: where節

<h2>例</h2>

<p>where節は関数定義や変数定義につける。</p>

<p>where.hs</p>

<p><code>v1 = x ^ x<br/>
	<span class="indent1">where</span><br/>
	<span class="indent1">x = 5</span></code></p>

<p><code>v2 = x * y<br/>
	<span class="indent1">where</span><br/>
	<span class="indent1">x = 3</span><br/>
	<span class="indent1">y = 5</span></code></p>

<p><code>% ghci where.hs<br/>
*Main&gt; v1<br/>
3125<br/>
*Main&gt; v2<br/>
15</code></p>

<h2>let ... in ...との対応</h2>

<p><code>foo = let var = val in [varを使った式]</code></p>

<p><code>foo = [varを使った式] where var = val</code></p>

<h2>let ... in ...との違い</h2>

<h3>定義が後に来る</h3>

<p>
where節は関数定義のうしろにつける。
細かい定義をあとに置くことで見通しが良くなる。
</p>

<h3>スコープ</h3>

<p>let ... in ... 式とは異なりwhere節は複数のガードをまたぐスコープを持つ。</p>

<h2>まとめ</h2>

<p>
let ... in ...とほぼ同じ働きをするwhere節を学んだ。
関数定義や変数定義にくっつける。
スコープの広さの違いなどあるが意味論的にはlet ... in ...と同じだ。
</p>

<p><small>自分用のメモ:<br/>
<span class="indent1">where節がcase文のなかでも使えることをどこかに書くこと</span><br/>
<span class="indent1">最後にappendixとして構文の全体像をまとめるのが良いかも</span>
</small></p>

<p>
<a href="/computer/haskell/web_lecture/for_programmer/letin.html"
	>「構文: let ... in...式」へもどる</a>
<a href="/computer/haskell/web_lecture/for_programmer/case.html"
	>「構文: case式」へ</a>
</p>
