deriving Show

<h2>はじめに</h2>

<p>トランプのスートを対話環境で表示しようとすると怒られる。</p>

<p><code>% ghci suit.hs<br/>
*Main&gt; Spade</code></p>

<p><code>&lt;interactive&gt;:X:Y:<br/>
<span style="padding-left: 2em">No instance for (Show Suit) arising from a use of
`print'</span><br/>
<span style="padding-left: 2em">Possible fix: add an instance declaration for (Show Suit)</span><br/>
<span style="padding-left: 2em">In a stmt of an interactive GHCi command: print it</span>
</code></p>

<p>
「型Suitは型クラスShowのインスタンスじゃないよ」と。
型クラスはあとできちんと説明するが対話環境で表示できないのは不便だ。
型を型クラスShowのインスタンスにする簡単な方法を学ぶ。
</p>

<h2>型Suitを型クラスShowのインスタンスに</h2>

<p>deriving Showを追加する。</p>

<p><code>data Suit = Spade | Heart | Diamond | Club deriving Show</code></p>

<p>deriving Showの意味は型クラスを学んでから説明する。</p>

<p><code>*Main&gt; :reload<br/>
*Main&gt; Spade<br/>
Spade<br/>
*Main&gt; show Spade<br/>
"Spade"</code></p>

<p>
deriving Showを使うと関数showで文字列化できるようになる。
対話環境は関数showで値を表示する。
</p>

<h2>まとめ</h2>

<p>
自分で定義した型の値が対話環境で表示できないのは不便だ。
簡単に型クラスShowのインスタンスにする方法を学んだ。
型の定義の最後にderiving Showをつける。型クラスのあとにちゃんと説明する。
</p>

<p>
<a href="/computer/haskell/web_lecture/for_programmer/adt_enum.html"
	>「列挙: トランプのスートと色」へもどる</a>
<a href="/computer/haskell/web_lecture/for_programmer/men_and_items.html"
	>「人間と商品」へ</a>
</p>
