非カリー化

<h2>非カリー化とは</h2>

<p>
タプルとして引数を受けとる関数を、
ばらばらの引数を受けとる関数に変換することをカリー化と呼び、
関数curryが用意されていた。
逆に、ばらばらの引数を受けとる関数を、
タプルとして引数を受けとる関数に変換することを非カリー化と呼び、
関数uncurryが用意されている。
</p>

<h2>整数の組の足し算</h2>

<p>
2つで1組の値に対してばらばらの引数を取る関数を適用したい。
「整数の組の値を足した値を計算する」など。
uncurryを使う。
</p>

<p><code>% ghci<br/>
Prelude&gt; uncurry (+) (3, 8)<br/>
11</code></p>

<h2>関数uncurry</h2>

<h3>型</h3>

<p>
整数の組の足し算の例では、
<code>Integer -&gt; Integer -&gt; Integer</code>を
<code>(Integer, Integer) -&gt; Integer</code>に変換する。
型は以下のようになる。
</p>

<pre><code>(Integer -&gt; Integer -&gt; Integer) -&gt; ((Integer, Integer) -&gt; Integer)</code></pre>

<p>一般的にすると</p>

<pre><code>(a -&gt; b -&gt; c) -&gt; ((a, b) -&gt; c)</code></pre>

<p>右側の丸括弧は省略できる。</p>

<pre><code>(a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c</code></pre>

<h3>定義</h3>

<p>関数uncurryの定義を見る。</p>

<p><code>uncurry :: (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c<br/>
uncurry f (x, y) = f x y</code></p>

<img
alt="[関数uncurryの図]"
src="/computer/haskell/web_lecture/for_programmer/images/uncurry.svg"
/>

<p>
第2引数のタプル(x, y)の第1、第2要素をばらばらにして第1引数の関数fに与えている。
</p>

<h2>課題</h2>

<ol>
<li>第1引数に値段を第2引数に税率を取り税込み価格を返す関数を作成せよ</li>
<li>上記関数をuncurryを使って値段と税率から成るタプルを取る関数に変換せよ</li>
<li>3引数関数を3要素タプルを取る関数に変換する関数uncurry3を定義せよ</li>
</ol>

<p>
<a href="/computer/haskell/web_lecture/for_programmer/curry.html"
	>「カリー化」へもどる</a>
<a href="/computer/haskell/web_lecture/for_programmer/enum_accum.html"
	>「リスト: 列挙と蓄積」へ</a>
</p>
