リストによる「くりかえし」の空間効率

<h2>空間効率の問題は?</h2>

<p>
空間効率とは、簡単に言えば、関数を実行するとき使うメモリの使用量のこと。
リストによる「くりかえし」の実装は空間効率が悪いように思える。
いちいち全要素のリストを作るとしたらメモリを無駄に使うことになる。
</p>

<h2>問題ない</h2>

<p>
Haskellの遅延性が利く。
</p>

<p>
「リストを作成した」と思ったときリストはまだ作成されていない。
リストの各要素は本当に必要になるまで作成されない。
また、作られた要素はあとで使わないならばGCされる。
「くりかえし」として使うときリストに含まれる要素は前から順に1度だけ使われる。
それぞれの要素のために確保されたメモリ領域はすぐに解放される。
</p>

<p>
手続き的な「くりかえし」の動作とよく似ている。
「リストを受け渡す」ように書いても手続き的な「くりかえし」の動作となる。
</p>

<p>
<a href="/computer/haskell/web_lecture/for_programmer/map.html"
	>「転写」へもどる</a>
<a href="/computer/haskell/web_lecture/for_programmer/list_as_data.html"
	>「データ構造としてのリスト」へ</a>
</p>
