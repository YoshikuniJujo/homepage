値を無視する関数

<h2>関数const</h2>

<h3>動作</h3>

<p>
引数の値を問わずいつも同じ値を返す関数を考える。
いつも0を返す関数を示す。
</p>

<code>const0 _ = 0</code>

<p>いつも文字'A'を返す関数は以下のようになる。</p>

<code>constA _ = 'A'</code>

<p>これらの関数は「引数の値を問わずいつも値xを返す関数」としてまとめられる。</p>

<p><code>const x _ = x</code></p>

<img
height="130"
alt="[関数constの図]"
src="/computer/haskell/web_lecture/for_programmer/images/function_const.svg"
/>

<p>関数constを使って上記2つの関数はそれぞれ以下のように書ける。</p>

<p><code>const0 = const 0<br/>
constA = const 'A'</code></p>

<p>関数constはモジュールPreludeで公開されている。</p>

<code>% ghci<br/>
Prelude&gt; const 0 4492<br/>
0<br/>
Prelude&gt; const 'A' "Hello, world!"<br/>
'A'<br/>
Prelude&gt; const 'A' 999<br/>
'A'</code>

<h3>使い道</h3>

<p>
関数idの使用例では割る数が0のときは割られる数をそのまま返した。
ここでは割る数が0の場合には0を返そう。
</p>

<code>devide' :: Double -&gt; Double -&gt; Double<br/>
devide' 0 _ = 0<br/>
devide' a b = b / a</code>

<p>
割られる数である第2引数を省略する。
「devide' 0は何を与えても0を返す関数」だ。
「devide' aは引数をaで割る関数」だ。
</p>

<p><a href="/computer/haskell/web_lecture/for_programmer/05_polymorphic/const.hs"
	>const.hs</a></p>

<p><code>devide' :: Double -&gt; Double -&gt; Double<br/>
devide' 0 = const 0<br/>
devide' a = (/ a)</code></p>

<h3>型</h3>

<p>
関数constはxを引数に取り「何を与えてもxを返す関数」を返す関数だ。
見かたを変えてconstを2引数関数として考える。
すると第2引数を無視し第1引数の値を返す関数となる。
関数constの第1引数と返り値は同じ型となる。第2引数の型は関係ない。
</p>

<p><code>const :: a -&gt; b -&gt; a</code></p>

<h2>まとめ</h2>

<p>
「引数を無視しいつも同じ値を返す関数」を返す関数constを学んだ。
2引数関数として見ると第2引数を無視し第1引数の値をそのまま返す関数となる。
</p>

<h2>課題</h2>

<ol>
<li>第1引数を無視し第2引数の値を返す関数const'定義せよ</li>
<li>上記の関数に型宣言をつけよ</li>
<li>[挑戦問題] 関数const'をconstとidを使って作成せよ</li>
</ol>

<p>
<a href="/computer/haskell/web_lecture/for_programmer/id.html"
	>「そのままにする関数」へもどる</a>
<a href="/computer/haskell/web_lecture/for_programmer/apply.html"
	>「関数適用」へ</a>
</p>
