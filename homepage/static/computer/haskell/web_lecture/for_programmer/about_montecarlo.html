モンテカルロ法の説明

<h2>はじめに</h2>

<p>
ここまで学んできたことの集大成としてモンテカルロ法を使って円周率を計算してみよう。
まずはモンテカルロ法の説明から始めよう。
</p>

<p><a href="https://ja.wikipedia.org/wiki/モンテカルロ法"
	>ウィキペディア: モンテカルロ法</a></p>

<h2>モンテカルロ法とは</h2>

<p>
多項式時間で処理が終了することは保証されているが、
答えが必ずしも正しいとは限らない乱択アルゴリズムがある。
このアルゴリズムでは、答えが正しいかどうかが確実でなく、ある種の賭けとなる。
これを、カジノで有名なモナコ公国の地区にちなんでモンテカルロ法と呼ぶ。
この名前をつけたのはかの有名なフォン・ノイマン。
</p>

<p>
モンテカルロ法は正確な答えを得ようとすると時間がかかりすぎるような問題への
近似的なアプローチとして有用である。
</p>

<h2>円周率を求める</h2>

<p>
わかりやすくて、例題として使いやすいので、円周率をモンテカルロ法で求めてみる。
ただし、円周率の計算には効率の良い方法があるので、
本当のところモンテカルロ法を使う必要はない。
</p>

<h3>半径1の円の面積</h3>

<p>半径1の円の面積は以下の式で表現される。</p>

<pre><code>1 * 1 * [円周率]</code></pre>

<p>よって半径1の円の面積を求めれば、それがそのまま円周率となる。</p>

<h3>モンテカルロ法で円の面積を求める</h3>

<p>
1辺が2の正方形内に半径1の円が描かれている。
このとき正方形内に点をランダムに取り、
それが円の内側にあるか外側にあるかを調べる。
ランダムに取った点であるので、
調べた点は正方形内に一様に分布していることが期待できる。
このとき、調べた点の数と円の内側にある点の比が
正方形と円の面積の比にほぼ等しくなると予想できる。
1辺が2の正方形の面積は4なので以下の式が成り立つ。
</p>

<pre><code>[円周率] = 4 * [円内の点] / [全ての点]</code></pre>

<img
alt="点の数が100のときの図"
src="/computer/haskell/web_lecture/for_programmer/images/monte_circle_100.svg"
width="300"
/>

<img
alt="点の数が1000のときの図"
src="/computer/haskell/web_lecture/for_programmer/images/monte_circle_1000.svg"
width="300"
/>

<img
alt="点の数が10000のときの図"
src="/computer/haskell/web_lecture/for_programmer/images/monte_circle_10000.svg"
width="300"
/>

<p>
点の数を100, 1000, 10000と増やしていくに従って、
確率的に正しい値に近づいていく。
</p>

<p>
<a href="/computer/haskell/web_lecture/for_programmer/inf_list.html"
	>「無限リスト」へもどる</a>
<a href="/computer/haskell/web_lecture/for_programmer/randoms.html"
	>「疑似乱数列の生成」へ</a>
</p>
