条件分岐をわかりにくくする

<p>(工事中 70%)</p>

<h2>はじめに</h2>

<p>
型クラスとは何か。
それを考えるよりもまずは簡単な型クラスを作ってみよう。
</p>

<h2>真か偽か</h2>

<p>
真か偽かという問題はなかなかにやっかいな問題のようだ。
各言語で真と偽の境界は異なっている。
以下のブログに「まとめ」がある。
</p>

<p>
<a href="http://blog.mirakui.com/entry/20090604/truefalse"
>昼メシ物語: 各言語におけるtrue/falseまとめ</a>
</p>

<p>
とくにPHPはひどいことになっている。
偽になるものリストは以下のようになるらしい。
</p>

<ul>
<li>booleanのFALSE</li>
<li>integerの0</li>
<li>floatの0.0</li>
<li>空文字列、文字列の"0"</li>
<li>要素数0の配列</li>
<li>メンバ変数の数が0のオブジェクト</li>
<li>NULL値</li>
<li>空タグから作成されたSimpleXMLオブジェクト</li>
</ul>

<p>...( ﾟдﾟ)</p>

<h2>Haskellっていいね</h2>

<p>
if文の条件部分に確けるのはBool型の値FalseとTrueだけなのでなんの問題もない。
</p>

<h2>「わかりにくく」したい</h2>

<p>
Haskellって本当わかりやすいなぁ。
あーあ、逆にわかりにくい他の言語がうらやましいっすよぉ。
</p>

<h2>わかりにくいルール</h2>

<p>
条件分岐関数iffを作ってわかりにくい条件で分岐してみる。
偽となる条件を以下のようにする。
</p>

<ul>
<li>()(ユニット値)</li>
<li>Bool値のFalse</li>
<li>整数値の0</li>
<li>浮動小数点値の0.0</li>
<li>文字'\0'および'0'</li>
<li>空文字列と"\0"と"0"</li>
<li>空リスト</li>
<li>Nothing値</li>
</ul>

<p>(2要素以上のタプル値は真とする)</p>

<p>これを使うと</p>

<p><code>iff 0 "OK! It's true." "Boo! It's false."</code></p>

<p><code>iff "('・ω・`)" "OK! Shoboon is true." "Boo! Shoboon is false."</code></p>

<p>のようにすることができる。</p>

<h2>まとめ</h2>

<p>
HOOGEE
</p>

<!--

<h2>煩悶</h2>

<p>
むむむ...
何がいいかな?
スタッククラスとかどうかな。
いまいちかな。
簡単な例ほど作るのが難しいな。
難しい例を作るのは簡単だけど。
意味のある例は難しくなるけど、意味のない例はつまらないし、
かえって理解をさまたげるということもある。
a -&gt; Boolとかそんな感じかな。
たとえば整数と文字とブール値に共通する性質には何かあるかな。
</p>

<p>
BoolLikeとかどうだろうか。
たとえば0, 0.0, '0'を偽とするとか。
これが良さそうだな。
</p>

-->

<p>
<a href="/computer/haskell/web_lecture/for_programmer/nml5.html"
	>「NML(5): スタンドアロンなデコーダ、エンコーダ」へもどる</a>
<a href="/computer/haskell/web_lecture/for_programmer/boollike_class.html"
	>「型クラスBoolLike」へ</a>
</p>
