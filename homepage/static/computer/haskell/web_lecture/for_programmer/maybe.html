Maybe型

<h2>このタイミングでMaybe型を学ぶ理由</h2>

<p>
Maybe型はもっとあとのほうで学ぶべき内容だ。
型、代数的データ型、多相型をさきに学ぶ必要がある。
しかし、次の「パターンマッチ」を学ぶうえで
何らかの構成的な値の例がないとわかりにくい。
よってここではMaybe型の深い部分は説明せず、
Maybe型の意義と使いかたのみを説明する。
</p>

<h2>Maybe型とは</h2>

<p>
Maybe型の値はJust [値]、またはNothingだ。
値が存在しないかもしれない型であり、
値が存在する場合にはJust [値]で存在しない場合にはNothingとなる。
</p>

<h2>Maybe型の存在する意義</h2>

<h3>部分関数</h3>

<p>
全域関数はすべての引数に対して値を返す関数だ。
部分関数には与えられた引数によっては値を返さない関数が含まれる。
たとえばf(x) = 1 / xという関数は引数0に対して値を返さないので
全域関数ではない部分関数である。
コードのどこかに全域関数でない部分関数が存在すると予想外のエラーが生じる。
このようなエラーはつかまえることが困難だ。
</p>

<h3>例外やNull値</h3>

<p>
多くの言語では、引数に対して値を返さない場合、例外を投げるか
あるいはC言語などではNull値を返す。
例外やNullは補足されずに放置されても気がつかない場合がある。
</p>

<h3>Maybe型を使うと</h3>

<p>
Maybe型ではJust [値]から[値]を取り出す必要がある。
そのため、取り出しの際に「失敗の可能性がある」ということを意識し
それに対する処理を書くことになる。
</p>

<h2>Maybe型を見てみる</h2>

<p>対話環境でMaybe型を見てみよう。</p>

<pre><code>% ghci
Prelude&gt; Just 8
Just 8
Prelude&gt; Nothing
Nothing</code></pre>

<p>
Just 8を計算が成功し結果の値が8であることを意味すると考える。
Nothingは計算が失敗したと考えよう。
Maybe型の値を直接入力したので意味がわかりにくいが
これらの値を返す関数を想像してみよう。
引数xが0であったときにはNothingを返し、そうでない場合にはJust (1 / x)を
返す関数などだ。
</p>

<p>
<a href="/computer/haskell/web_lecture/for_programmer/bool.html"
	>「Bool型」へもどる</a>
<a href="/computer/haskell/web_lecture/for_programmer/pattern_match.html"
	>「パターンマッチ」へ</a>
</p>
