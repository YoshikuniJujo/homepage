仕様としての型クラス: 実装と仕様をわける

<p>(工事中 10%)</p>

<h2>修正が必要</h2>

<p>
キューの例はやめようかな。
いろいろと複雑な話が出てきてしまいそうだ。
もっと、おもちゃっぽいもののほうがいいかもしれない。
</p>

<ul>
<li>いくつかの機能を持つ型を使って何らかの演算を実行する</li>
<li>それらの機能は型によって動作が異なる</li>
<li>伝統的な「図形」の例はどうだろうか
	<ul>
	<li>それだと同じ型にまとめたくなる</li>
	</ul></li>
<li>やはり「同じこと」をやる複数の型のほうがよさそうだ
	<ul>
	<li>キューみたいな感じで、かな</li>
	</ul></li>
<li>リストとMapの2つで辞書を実装する、とかはどうだろうか
	<ul>
	<li>本質的にはいいが、関数名が同じなのでまぎらわしいな</li>
	</ul></li>
<li>暗号化の例はどうだろうか
	<ul>
	<li>たとえばシーザー暗号からもっと複雑な暗号まで</li>
	<li>でもこれだとTypeFamilies(or FunDeps)拡張が使いたくなるな</li>
	<li>暗号化ではなくCodecの例ならばどうだろうか</li>
	<li>データを保存して、そこから引き出していく感じ</li>
	</ul></li>
</ul>

<p><code>class IntStorage s where<br/>
	<span class="indent1">empty :: s</span><br/>
	<span class="indent1">store :: Int -&gt; s -&gt; s</span><br/>
	<span class="indent1">derive :: s -&gt; (Int, s)</span></code></p>

<ul>
<li>倉庫の例は結果にも引数にも「その型」が出てこないので今いちだ</li>
<li>倉庫から別の型の倉庫に値をうつしかえる関数moveってのはどうだろうか</li>
<li>シンプルで良いかもしれない</li>
</ul>

<!--
<p>
むしろ、幅優先探索にキューがあるといいよね、
それじゃキューを用意するけど...のような感じの流れがいいね。
</p>
-->

<h2>はじめに</h2>

<p>
型クラスは型の「性質」だ。
性質は特定のクラス関数を持つということで表現される。
クラス関数はその型を扱うためのAPIとも見ることができる。
型クラスは「仕様」と考えられる。
</p>

<h2>倉庫</h2>

<p>
整数を格納する倉庫を考えよう。
整数を格納する、整数を取り出すの2つの仕事ができる。
どういう順で取り出すかは倉庫の種類によってまちまちだ。
また、同じ整数が2回格納されたときにそれを2つとして扱うか、
1つとして扱うかも倉庫の種類による。
</p>

<p>
与えられたすべての整数に対してある演算をする必要がある。
順番は問わないし同じ値に対しての演算は1回のみでもいいし2回してもいいとする。
また、入力される整数は10個ずつ送られ、そのたびに出力を返すことにする。
</p>

<p>
<a href="/computer/haskell/web_lecture/for_programmer/newtype.html"
	>「構文: newtype」へもどる</a>
<a href="/computer/haskell/web_lecture/for_programmer"
	>「1から学ぶHaskell」トップへ</a>
</p>
