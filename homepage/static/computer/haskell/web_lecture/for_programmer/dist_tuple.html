タプル: 原点からの距離の例

<h2>原点から点(x, y)への距離</h2>

<img
alt="[原点からの距離の図]"
src="/computer/haskell/web_lecture/for_programmer/images/distance_from_origin.svg"
/>

<p>
点(x, y)から原点までの距離を求めたい。
原点からの距離はxの二乗とyの二乗を足したものの平方根だ。
</p>

<p><a href="/computer/haskell/web_lecture/for_programmer/06_dist_tuple/distXY.hs"
	>distXY.hs</a></p>

<pre><code>dist0 :: Double -&gt; Double -&gt; Double
dist0 = sqrt $ x ^ 2 + y ^ 2</code></pre>

<p>試してみる。</p>

<pre><code>% ghci distXY.hs
*Main&gt; dist0 7 9
11.40175425099138
*Main&gt; dist0 3 4
5.0</code></pre>

<p>点pの座標を保存してみる。</p>

<pre><code>px, py :: Double
px = 9.0
py = 5.0</code></pre>

<pre><code>*Main&gt; dist0 px py
10.295630140987</code></pre>

<h2>タプルにまとめる</h2>

<p>
「点」というひとつのものをpx, pyという2つの変数で表した。
複数の値をひとつの値としてまとめるのにタプルという構造が使える。
点pをタプルで表す。
</p>

<pre><code>p :: (Double, Double)
p = (9.0, 5.0)</code></pre>

<p>x1 :: T1, x2 :: T2, x3 :: T3, ...を含むタプルtの定義は以下のようになる。</p>

<code>t :: (T1, T2, T3, ...)<br/>
t = (x1, x2, x3, ...)</code>

<h2>タプルに対するパターンマッチ</h2>

<p>
タプルから要素を取り出すにはパターンマッチを使う。
パターン(x, y)に(9, 5)をマッチさせるとx, yはそれぞれ9, 5に束縛される。
</p>

<pre><code>dist0' :: (Double, Double) -&gt; Double
dist0' (x, y) = sqrt $ x ^ 2 + y ^ 2</code></pre>

<p>試してみよう。</p>

<pre><code>*Main&gt; dist0' p
10.295630140987</code></pre>

<p>
<a href="/computer/haskell/web_lecture/for_programmer/polymorphic.html"
	>「多相関数」へもどる</a>
<a href="/computer/haskell/web_lecture/for_programmer/polymorphic_more.html"
	>「さらに多相関数」へ</a>
</p>
