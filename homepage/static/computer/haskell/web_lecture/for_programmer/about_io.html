入出力について

<p>(工事中 0%)</p>

<h2>ほかの言語では</h2>

<p>
Haskell以外の多くの言語では
関数が「評価」されるタイミングで入出力を行い関数の返り値として入力を返す。
</p>

<p>
評価のタイミングで入出力を行うと評価の順番がコードの意味に影響を与える。
本来であればコードの意味は評価の結果のみに依存するべきだ。
</p>

<p>
入力を関数の返り値として返すと「同じ引数に対してはつねに同じ返り値を返す」という
参照透過性が壊される。
</p>

<h2>機械</h2>

<p>
式の評価と入出力を切り離す。
式の評価によって「入出力を行う機械」が返るようにする。
その機械は評価とは別の仕組みによって「実行」される。
「実行」は対話環境での評価のあとに行われる。
またスタンドアロンなコードにおいてはmainを束縛した機械が実行される。
</p>

<p>
機械型は数値型や文字型のように「基本的な型」として用意されている。
</p>

<h2>まとめ</h2>

<p>
関数型言語としての純粋さを保ちつつ入出力を行いたい。
Haskellでは「評価」と「実行」とをわけている。
式は入出力を行う「機械」にまで評価されて、そのあと別の機構によって実行される。
</p>

<p>
<a href="/computer/haskell/web_lecture/for_programmer/monad_summary.html"
	>「モナド: まとめ」へもどる</a>
<a href="/computer/haskell/web_lecture/for_programmer/machine.html"
	>「Machine型」へ</a>
</p>
