2つの引数に同じ関数を適用

<h2>はじめに</h2>

<p>
関数を組み合わせるやりかたそのものを関数として定義できる。
「2つの値に同じ関数を適用してから2引数関数に与える」という
関数の組み合わせかたが関数onとして定義されている。
</p>

<h2>関数on</h2>

<h3>動作</h3>

<p>
2つの値に同じ関数を適用してから2引数関数に与える。
「2つの数のそれぞれを3で割った余りの比較」をする例だ。
</p>

<p><code>on (==) (`mod` 3) 8 11</code></p>

<p>8を3で割った余りと11を3で割った余りとの比較だ。</p>

<p><code>Prelude&gt; :m Data.Function<br/>
Prelude Data.Function&gt; on (==) (`mod` 3) 8 11<br/>
True<br/>
Prelude Data.Function&gt; ((==) `on` (`mod` 3)) 8 11<br/>
True</code></p>

<p>中置記法だと(`mod` 3)のうえで(==)を行うといった感じを強調できる。</p>

<h3>定義</h3>

<p><code>on op f x y = op (f x) (f y)</code></p>

<p>中置記法で定義しても同じことだ。</p>

<p><code>(op `on` f) x y = f x `op` f y</code></p>

<h3>型</h3>

<p><code>on :: (b -&gt; b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; a -&gt; c</code></p>

<p>
a型の2つの値のそれぞれに(a -&gt; b)型の関数を適用する。
得られたb型の値2つを(b -&gt; b -&gt; c)型の2引数関数にわたすと結果として
c型の値が得られる。
</p>

<h2>使い道</h2>

<p>関数onはソートでの大小比較のときの比較される2つの値の事前変換に使える。</p>

<h2>課題</h2>

<ol>
<li>3引数関数の3つの引数すべてに同じ関数を適用する関数on3を作成せよ</li>
</ol>

<p>
<a href="/computer/haskell/web_lecture/for_programmer/flip.html"
	>「引数を入れ替える」へもどる</a>
<a href="/computer/haskell/web_lecture/for_programmer/function_summary.html"
	>「まとめ: 関数」へ</a>
</p>
